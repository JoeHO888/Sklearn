from flask import Flask
from flask import Flask
import requests
from flask import request
import numpy as np
from time import sleep
from sklearn import datasets
from sklearn.model_selection import train_test_split
from sklearn.neighbors import KNeighborsClassifier

app = Flask(__name__)

app = Flask(__name__)

iris = datasets.load_iris()
iris_X = iris.data
iris_y = iris.target

X_train, X_test, y_train, y_test = train_test_split(iris_X, iris_y, test_size=0.3)

knn = KNeighborsClassifier()

@app.route('/',methods=['GET', 'POST'])  # curl -X POST http://localhost:5000/
def hello_world():
  knn.fit(X_train, y_train)
  return "Training.........."


@app.route('/index',methods=['GET', 'POST'])
def index():
  return str(list(knn.predict(X_test)))  #str(list(...)) for printout   curl -X POST http://localhost:5000/index
  
  
  
  
